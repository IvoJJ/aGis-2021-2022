<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="aGis Course Website 2021/2022">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="https://IvoJJ.github.io/aGis-2021-2022//img/proxy-image.jpg">
    <meta property="twitter:image" content="https://IvoJJ.github.io/aGis-2021-2022//img/proxy-image.jpg" />
    

    
    <meta name="title" content="About Lidar Metrics" />
    <meta property="og:title" content="About Lidar Metrics" />
    <meta property="twitter:title" content="About Lidar Metrics" />
    

    
    <meta name="description" content="brief overview of Lidar metrics and how they can be used">
    <meta property="og:description" content="brief overview of Lidar metrics and how they can be used" />
    <meta property="twitter:description" content="brief overview of Lidar metrics and how they can be used" />
    

    
    <meta property="twitter:card" content="summary" />
    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" integrity="sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>    
    
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/aGis-2021-2022/css/hugo-cite.css" />
<link rel="stylesheet" href="https://IvoJJ.github.io/aGis-2021-2022/css/stackoverflow-light.min.css" rel="stylesheet" id="theme-stylesheet">
<script src="https://IvoJJ.github.io/aGis-2021-2022/js/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

    <meta name="keyword"  content="my key words">
    <link rel="shortcut icon" href="/aGis-2021-2022/img/favicon.ico">

    <title>About Lidar Metrics-my Seotitle</title>

    <link rel="canonical" href="/aGis-2021-2022/aGis-2021-2022/post/2021-12-07-about-lidar-metrics/">
    

  <script src="https://unpkg.com/boxicons@2.0.9/dist/boxicons.js"></script>
    
    <link href="https://IvoJJ.github.io/aGis-2021-2022/css/boxes.css" rel="stylesheet">

    <link rel="stylesheet" href="/aGis-2021-2022/css/iDisqus.min.css"/>

    
    <link rel="stylesheet" href="/aGis-2021-2022/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/aGis-2021-2022/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/aGis-2021-2022/css/zanshang.css">

    
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" type="text/css">

    
    

    
    
    <script src="/aGis-2021-2022/js/jquery.min.js"></script>

    
    <script src="/aGis-2021-2022/js/bootstrap.min.js"></script>

    
    <script src="/aGis-2021-2022/js/hux-blog.min.js"></script>

    
    

</head>




<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/aGis-2021-2022/"> HOME </a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                   
                    
                        
                        <li>
                            <a href="/aGis-2021-2022/categories/agis">agis</a>
                        </li>
                        
                        <li>
                            <a href="/aGis-2021-2022/categories/help">help</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/aGis-2021-2022/top/archive/">CONTENT</a></li>
                    

                    
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header {
        background-image: url('/aGis-2021-2022/img/ungabunga.jpg');
  max-height: 350px
    }
</style>

<header class="intro-header" >

    <div class="container">
        <div class="row">
            <div class="col-lg-0 col-lg-offset-0 col-md-0 col-md-offset-0">
                <div class="post-heading">
                   
                    <h1>About Lidar Metrics</h1>
                   
            
                            
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                
                
<script src="https://IvoJJ.github.io/aGis-2021-2022/post/2021-12-07-about-lidar-metrics/index_files/header-attrs/header-attrs.js"></script>

<div id="TOC">

</div>

<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>There are different metrics that can be calculated using Lidar Data. These metrics (only some)
are presented and discussed down below. Also how useful are different approaches
to calculate these metrics and how/ for which topic can these metrics be used?
Can these metrics be used to estimate humidity or temperature?</p>
<p>Overall the metrics are some kind of attributes calculated from the Lidar
data. Usually metrics are calculated at the basis of the point height (z-axis).</p>
<p>the <em>lidr</em> package offers some convenient functions to calculate basic metrics at
different levels:</p>
<ol style="list-style-type: decimal">
<li>cloud metrics</li>
<li>tree metrics</li>
<li>grid metric</li>
<li>voxel metrics</li>
<li>point metrics</li>
</ol>
<p>However, there are numerous existing methods to calculate different metrics.
Still, there are standard sets of metrics that are used for different research
questions.
To calculate the metrics with the functions above, there is a formula needed. A
common formula is the average height of points for the point cloud relative to
lidar surface. This can be calculated using fun = ~mean() provided by the lidR
package. Similar approaches can be used for standard parameters like the
standard deviation etc. of the points. Multiple formulas can be stored in one
function, which can be called, when calculating the metrics to calculate
multiple metrics using different formulas.</p>
<p>Following down below there is an exemplary workflow/calculation of some of  these metrics and which information they provide</p>
<p><strong>1. Load the data of the research area</strong></p>
<pre class="r"><code>las &lt;- list.files(envrmt$path_lvl0,
                  pattern = glob2rx(&quot;*.las&quot;),
                  full.names = TRUE)
Lfile &lt;- lidR::readLAS(las[1])
Lfile</code></pre>
<pre><code>## class        : LAS (v1.3 format 1)
## memory       : 2 Gb 
## extent       : 477500, 478217.5, 5631730, 5632500 (xmin, xmax, ymin, ymax)
## coord. ref.  : NA 
## area         : 0.55 kunits²
## points       : 26.35 million points
## density      : 47.7 points/units²</code></pre>
<p>If all available points are included, the metrics at point <em>cloud level</em> can be
calculated. Using the function of the lidR-package .stdmetrics_z returns numerous
metrics including metrics which contain information of the verticle structure of
the research area. Using the function .stdmetrics_z only calculates these metrics
and can be used to safe computing power and isolate results. The .stdmetrics
function can also be modified to isolate other information like intensity or
percentage (just refer to the lidR manual or use ?.stdmetrics).</p>
<pre class="r"><code>clmetrics &lt;- lidR::cloud_metrics(Lfile, func = lidR::.stdmetrics_z)
head(clmetrics)</code></pre>
<pre><code>## $zmax
## [1] 371.824
## 
## $zmean
## [1] 285.3682
## 
## $zsd
## [1] 23.40896
## 
## $zskew
## [1] 0.7478282
## 
## $zkurt
## [1] 3.411944
## 
## $zentropy
## [1] 0.760378</code></pre>
<p>The return shows that the maximum height in the research area is around 380m,
with a mean height of 285m.</p>
<p>To calculate metrics at grid level grid_metrics can be used. It is also possible
to calculate single parameters using functions like mean(Z) or sd(Z) or self- written functions.</p>
<pre class="r"><code># metrics at the grid level (res refers to the resolution of the cell, 1 = 10m &amp; 50 = 50m)
grid &lt;- lidR::grid_metrics(Lfile, ~mean(Z), res = 1)
lidR::plot(grid)</code></pre>
<p><img src="https://IvoJJ.github.io/aGis-2021-2022/post/2021-12-07-about-lidar-metrics/index_files/figure-html/grid%20metrics%201-1.png" width="672" /></p>
<pre class="r"><code># use higher res to reduce computation time
grid_m &lt;- lidR::grid_metrics(Lfile, .stdmetrics, res = 10) 
lidR::plot(grid_m)</code></pre>
<p><img src="https://IvoJJ.github.io/aGis-2021-2022/post/2021-12-07-about-lidar-metrics/index_files/figure-html/grid%20metrics%202-1.png" width="672" /></p>
<p>Grid metrics can also be used to calculate the density:</p>
<pre class="r"><code>dns &lt;- lidR::grid_metrics(Lfile, ~length(Z)/1, res = 1)
lidR::plot(dns, main = &quot;Point density [1m² cells]&quot;)</code></pre>
<p><img src="https://IvoJJ.github.io/aGis-2021-2022/post/2021-12-07-about-lidar-metrics/index_files/figure-html/grid%20metrics%203-1.png" width="672" /></p>
</div>
<div id="discussion" class="section level2">
<h2>Discussion</h2>
<p>Overall these metrics can be used for numerous applications also for microclimate prediction, especially when
relationships are taken into account (like fauna/flora and canopy height etc.).
But this has to be done sensitive to the research area. Density metrics are especially useful to predict microclimate parameters.</p>
</div>
<div id="references" class="section level2">
<h2>References</h2>
<p>Jean-Romain Roussel and David Auty (2021). Airborne LiDAR Data Manipulation and
Visualization for Forestry Applications. R package version 3.2.2.
<a href="https://cran.r-project.org/package=lidR" class="uri">https://cran.r-project.org/package=lidR</a></p>
<p>Jean-Romain Roussel, Tristan R.H. Goodbody and Piotr Tompalski (2015).The lidR package
<a href="https://jean-romain.github.io/lidRbook/index.html" class="uri">https://jean-romain.github.io/lidRbook/index.html</a></p>
<p>Roussel, J.R., Auty, D., Coops, N. C., Tompalski, P., Goodbody, T. R. H., Sánchez
Meador, A., Bourdon, J.F., De Boissieu, F., Achim, A. (2020). lidR : An R package for
analysis of Airborne Laser Scanning (ALS) data. Remote Sensing of Environment, 251
(August), 112061. <a href="doi:10.1016/j.rse.2020.112061" class="uri">doi:10.1016/j.rse.2020.112061</a>.</p>
</div>

                <style>
.button {
  border: none;
  border-radius: 4px 4px; 
  color: white;
  padding: 2px 4px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 12px;
  transition-duration: 0.5s;
  cursor: pointer;
  background-color: #4CAF50; 
  
}
.button1 a:link {
  color: #FFF;
  border-radius: 4px 4px;        
  background-color: #4CAF50; 
  
}

.button1 a:visited {
  color: white;
    border-radius: 4px 4px;        
  background-color: #4CAF50; 
  
}

.button1 a:hover {
  color: white;
    padding: 2px 4px;
    border-radius: 4px 4px;        
  background-color: #3FA043; 
  
}

.button1 a:active {
  color: white;
    border-radius: 4px 4px;        
  background-color: #4CAF50; 
  
}
}

.button1 {
  color: white;
  border-radius: 4px 4px;        
  background-color: #4CAF50; 
  
}


.button1:hover {
  background-color: #4CAF60;
    box-shadow:0 8px 16px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)
}

</style>

 
 
<div class="col-12 col-lg-10ish article-style">     
<p>Questions and mistakes but also suggestions and solutions are welcome.</p>
<script src="https://utteranc.es/client.js"
        repo="/"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous" 
        async>
</script>
<p>Due to an occasionally faulty page redirection, a 404 error may occur. please use the alternative <button class="button button1"> <a href="https://api.utteranc.es/authorize?redirect_uri=https%3a%2f%2fIvoJJ.github.io%2faGis-2021-2022%2fpost%2f2021-12-07-about-lidar-metrics%2f">Sign in with GitHub</a></button></p>
    
</div>

                
                
                <hr>
                <ul class="pager">
                    
                    
                    <li class="next">
                        <a href="/aGis-2021-2022/post/markdown-syntax/" data-toggle="tooltip" data-placement="top" title="Markdown Syntax Guide">Next
                            Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>

            
            
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">Content</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
            
            
            

            
            <div class="
                col-lg-2 col-lg-offset-0
                col-md-3 col-md-offset-1
                sidebar-container
                catalog-container">

                
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">Tag Nav</a></h5>
                    <div class="tags">
                        
                        
                        
                        
                    </div>
                </section>
                 

                
                
                      
            </div>
        </div>
    </div>

    
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                   
                    
                    <li>
                        <a href="mailto:youremail@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    

                    
                    
                    

                    

		    
                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/yourgithub">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    
                    
                    
                    
                    
                    
                    
                    
                    
            
            
            
                </ul>
		<p class="copyright text-muted">
                    Copyright &copy; aGis Course Website 2021/2022 2022
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> 
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>









<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/aGis-2021-2022\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>


</body>
</html>
